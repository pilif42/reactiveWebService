databaseChangeLog:
  - changeSet:
      id: createTable-example
      author: pbrossier
      changes:
        - createTable:
            tableName: account
            columns:
              - column:
                  autoIncrement: true
                  constraints:
                    primaryKey: true
                    primaryKeyName: account_pkey
                  name: id
                  type: bigint
              - column:
                  name: email
                  type: VARCHAR(255)
              - column:
                  name: password
                  type: VARCHAR(255)
              - column:
                  name: role
                  type: VARCHAR(255)
  - changeSet:
      id:  loadData-example
      author:  pbrossier
      changes:
        - loadData:
            tableName: account
            columns:
              - column:
                  header: emailCsv
                  name: email
                  type: string
              - column:
                  header: passwordCsv
                  name: password
                  type: string
              - column:
                  header: ageCsv
                  type: skip
              - column:
                  header: roleCsv
                  name: role
                  type: string
            commentLineStartsWith: #
            separator: ;
            quotchar: ''''
            encoding: UTF-8
            file: ../accountsToLoad.csv
            relativeToChangelogFile: true
            schemaName: public
            usePreparedStatements: true
